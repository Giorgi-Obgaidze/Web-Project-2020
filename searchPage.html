<html>
    <head>
        <title>Search Item</title>
        <link rel = "stylesheet" href="styleSearchPage.css">
        <!-- <script
            src="https://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous">
        </script> -->
        <script>
            function includeHTML() {
            var z, i, elmnt, file, xhttp;
            z = document.getElementsByTagName("*");
            for (i = 0; i < z.length; i++) {
                elmnt = z[i];
                file = elmnt.getAttribute("header-html");
                if (file) {
                xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                    if (this.readyState == 4) {
                    if (this.status == 200) {elmnt.innerHTML = this.responseText;}
                    if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
                    elmnt.removeAttribute("header-html");
                    includeHTML();
                    }
                }      
                xhttp.open("GET", file, true);
                xhttp.send();
                return;
                }
            }
            };
        </script>

        <script>
            var pList = [
                {name: "Item A", img:"RTX-3070.jpg", price: 690.9,
                desc: "2k gaming"},
                {name: "Item B", img:"RTX-3080.png", price: 1200.9,
                desc: "4k gaming"},
                {name: "Item C", img:"RTX-3090.jpg", price: 12300.45,
                desc: "8k gaming"},
                ];
                // $(function(){
                //     $("#header").load("header.html"); 
                // });
            window.addEventListener("DOMContentLoaded", function () {
                let df = new DocumentFragment()

                function create(tag, htmlText, className) {
                    let elem = document.createElement(tag);
                    elem.innerHTML = htmlText;
                    elem.classList.add(className);
                    return elem;    
                };

                pList.forEach(p => {
                    let segment = document.createElement("div");
                    segment.classList.add("product")
                    df.appendChild(segment)

                    segment.appendChild(create("div", "<img src ='images/"+p.img+"'>", "pImg"));
                    segment.appendChild(create("div", p.name, "pName"));
                    segment.appendChild(create("div", "$" + p.price.toFixed(2), "pPrice"));
                    segment.appendChild(create("div", p.desc, "pImg"));
                });

                document.getElementById("product-list").appendChild(df);


            });




        </script>
    </head>
    <body>
        <div header-html="header.html"></div>
        <script>
            includeHTML();
        </script>
        <!-- <include src="./header.html"></include>
        <div id = "header"></div> -->
        <div class = "searchPage">
            <div id = "product-list"></div>
        </div>


        <script src="header.js"></script>
    </body>
</html>